# Role
Senior React Interface Engineer.

# Context
Our note-taking app is functional. Now we need to add the "Power User" feature: a global Command Palette using the **`cmdk`** library.
This allows users to search notes and perform actions without leaving the keyboard.

# Goal
Implement a `CommandMenu.tsx` component that opens on `Ctrl+K` (or `Cmd+K`).

# Requirements

## 1. Library & Setup
- **Library:** `cmdk` (install via `npm install cmdk`).
- **Icons:** Use `lucide-react`.

## 2. Component Logic (`CommandMenu.tsx`)
- **State:** Controls open/close state (`isOpen`).
- **Hotkey:** Listen for `keydown` (Meta+K or Ctrl+K) to toggle `isOpen`.
- **Search Logic:**
  - Receive the `notes` list as a prop.
  - Filter notes based on the user's input in the command bar.
- **Actions:**
  - **Navigation:** Clicking a search result (or pressing Enter) should call `onSelectNote(id)` and close the menu.
  - **Global Actions:** Add a "General" group with:
    - "Create New Note" (Triggers the create function).
    - "Toggle Dark Mode" (Placeholder or actual implementation if ready).

## 3. Visual Style (Linear/Vercel Design)
- **Overlay:** `fixed inset-0 bg-black/40 backdrop-blur-sm z-50` (Dark glass effect).
- **Container:** Centered, `max-w-[640px]`, `bg-white`, `rounded-xl`, `shadow-2xl`, `border border-gray-200`.
- **Input:** No border, large text (`text-lg`), `p-4`, placeholder "Type a command or search...".
- **List:** `max-h-[300px] overflow-y-auto p-2`.
- **Item:**
  - Default: `p-3 rounded-md text-gray-700 flex items-center gap-3 cursor-pointer`.
  - **Selected (Data-selected):** `bg-gray-100 text-gray-900`. (CMDK handles the `data-selected` attribute).
  - Use Icons for every item (e.g., `FileText` for notes, `Plus` for create).

# Deliverables
1. `npm install` command.
2. The full `CommandMenu.tsx` code.
3. Instructions on where to place it in `App.tsx` (should be at the top level, passing `notes` and `onCreate` etc.).

# Style Tip for CMDK
You must include the CSS for `[cmdk-item]` to handle the highlight state properly.
Example CSS snippet:
```css
[cmdk-item][data-selected="true"] {
  background: rgb(243 244 246); /* bg-gray-100 */
  color: black;
}