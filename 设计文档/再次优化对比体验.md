# Role
Senior UI/UX & Tiptap Engineer.

# Goal
Refine the Inline AI experience to be "Linear-grade". 
Move away from the heavy "Git Diff" style (red/green boxes) to a "Ghost Writing" experience.

# Requirements

## 1. Eliminate Heavy Backgrounds
- **Remove** the big red/green background containers.
- **Old Text Style**: If the AI is replacing text, make the original text `text-gray-400 opacity-50` and keep it in place, or hide it gracefully.
- **AI Text Style**: While streaming, the new content should be `text-indigo-600 dark:text-indigo-400` to indicate it is "Pending".

## 2. Real-time Markdown Rendering (Crucial)
- Instead of inserting raw strings like "# ", use a **Line-Buffer** strategy.
- When the AI finishes a line or a block, use `editor.commands.insertContent` with the `Markdown` extension active so the user sees **rendered HTML** (Headings, CodeBlocks) immediately, not raw markdown symbols.

## 3. The "Linear" Review Bar (Floating UI)
- Create a very slim, floating bar that follows the AI cursor.
- **Style**: 
  - `bg-white/90 dark:bg-black/90` with `backdrop-blur-md`.
  - `border border-gray-200 dark:border-gray-800`.
  - `rounded-full shadow-xl px-2 py-1`.
- **Buttons**:
  - `Accept` (Check icon + "Accept" text, text-xs).
  - `Discard` (X icon, text-xs).
- **Positioning**: Use Tiptap's `BubbleMenu` or a custom `FloatingMenu` that stays at the bottom-right of the current AI-generated block.

## 4. Animation & Interaction
- **Fade-in**: AI text should have a subtle fade-in animation.
- **Shortcut**: 
  - `Cmd + Enter` to Accept.
  - `Esc` to Discard.
- **Status**: While generating, show a tiny "Sparkle" icon spinning at the end of the text.

# Deliverables
1. Updated `Editor.tsx` logic to handle "Ghost Text" instead of "Diff Boxes".
2. The CSS for the `indigo` streaming text.
3. A refined `AIReviewBar.tsx` component.

# Final Polish
The result should look like the AI is "typing for you" in a professional indigo color, and once you hit Accept, the text turns into normal black/white.