# Role
Tailwind CSS & React UI Expert.

# Context
Our note-taking app needs a high-quality **Dark Mode** to match its "Linear-style" aesthetic.
Currently, it's hardcoded to light mode (white backgrounds).
We need to implement a Theme Toggler and update all UI components to support `dark:` classes.

# Goal
1. Implement a `ThemeContext` to manage 'light' | 'dark' | 'system'.
2. Persist user preference in `localStorage`.
3. Update the `App`, `Sidebar`, `NoteList`, and `Editor` components with Tailwind dark classes.

# Requirements

## 1. Tailwind Config
- Ensure `tailwind.config.js` has `darkMode: 'class'`.

## 2. Theme Logic (`ThemeContext.tsx`)
- Create a Context provider that handles toggling.
- On mount, check `localStorage` or `window.matchMedia('(prefers-color-scheme: dark)')`.
- Apply the class `dark` to the `<html>` or `<body>` tag.

## 3. UI Updates (The "Linear Dark" Palette)
You need to go through the main components and add `dark:` variants.
- **Global Background:** `dark:bg-[#0F1115]` (Deep almost-black).
- **Sidebar:** `bg-gray-50` -> `dark:bg-[#16181D]` (Slightly lighter than main).
- **Note List:** `bg-white` -> `dark:bg-[#0F1115]`.
- **Active Note:** `bg-gray-100` -> `dark:bg-[#1E2025]`.
- **Text:**
  - Primary: `text-gray-900` -> `dark:text-gray-100`.
  - Secondary: `text-gray-500` -> `dark:text-gray-400`.
- **Borders:** `border-gray-200` -> `dark:border-white/10` (Subtle).
- **Inputs/Search:** `bg-white` -> `dark:bg-[#1C1E23]`, `dark:border-gray-700`.

## 4. Integration
- Add a "Toggle Theme" action to the `CommandMenu` (Ctrl+K) we built earlier.
- (Optional) Add a visible Moon/Sun icon button in the Sidebar.

# Deliverables
1. `ThemeContext.tsx` code.
2. Updated `App.tsx` (wrapping with Provider).
3. A list of key Tailwind class changes needed for the main layout div to make it look good instantly.

# Critical Detail
The transitions should be smooth. Add `transition-colors duration-300` to the main containers so the flash isn't jarring when switching.