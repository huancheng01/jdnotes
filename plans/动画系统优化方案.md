# JD Notes åŠ¨ç”»ç³»ç»Ÿä¼˜åŒ–æ–¹æ¡ˆ

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

JD Notes æ˜¯ä¸€ä¸ªåŸºäº React + Tauri çš„æ¡Œé¢ç¬”è®°åº”ç”¨ï¼Œå½“å‰å·²æœ‰åŸºç¡€çš„ CSS åŠ¨ç”»ã€‚æœ¬æ–¹æ¡ˆæ—¨åœ¨é€šè¿‡å¼•å…¥ç°ä»£åŠ¨ç”»åº“å’Œä¼˜åŒ–ç°æœ‰åŠ¨ç”»ï¼Œæå‡ç”¨æˆ·ä½“éªŒçš„æµç•…åº¦å’Œæ„‰æ‚¦æ„Ÿã€‚

---

## ğŸ¯ å½“å‰åŠ¨ç”»ç°çŠ¶åˆ†æ

### âœ… å·²å®ç°çš„åŠ¨ç”»

1. **AI ç›¸å…³åŠ¨ç”»**ï¼ˆè¡¨ç°è‰¯å¥½ï¼‰
   - AI è¿›åº¦æ¡åŠ¨ç”»ï¼ˆ`ai-progress`ï¼‰
   - AI å†…å®¹æ·¡å…¥åŠ¨ç”»ï¼ˆ`ai-fade-in`ï¼‰
   - AI èœå•å‡ºç°åŠ¨ç”»ï¼ˆ`ai-menu-appear`ï¼‰
   - AI Ghost Writing æ ·å¼
   - AI æ€è€ƒä¸­çš„è·³åŠ¨ç‚¹åŠ¨ç”»ï¼ˆ`ai-dot-bounce`ï¼‰
   - AI æµå¼å…‰æ ‡é—ªçƒï¼ˆ`ai-cursor-blink`ï¼‰

2. **åŸºç¡€äº¤äº’åŠ¨ç”»**
   - æŒ‰é’®ç‚¹å‡»æ•ˆæœï¼ˆ`btn-press`ï¼‰
   - è¿‡æ¸¡æ•ˆæœï¼ˆ`transition-colors`, `transition-all`ï¼‰
   - æ»šåŠ¨æ¡æ ·å¼

3. **ä¾§æ åŠ¨ç”»**
   - AI èŠå¤©ä¾§æ æ»‘å…¥ï¼ˆ`ai-sidebar-slide-in`ï¼‰
   - ç¼–è¾‘æ¶ˆæ¯æ·¡å…¥ï¼ˆ`edit-fade-in`ï¼‰

### âš ï¸ ç¼ºå¤±æˆ–éœ€è¦ä¼˜åŒ–çš„åŠ¨ç”»

1. **åˆ—è¡¨åŠ¨ç”»**
   - âŒ ç¬”è®°å¡ç‰‡ç¼ºå°‘è¿›å…¥/é€€å‡ºåŠ¨ç”»
   - âŒ åˆ—è¡¨é¡¹åˆ‡æ¢æ— è¿‡æ¸¡æ•ˆæœ
   - âŒ æ‹–æ‹½æ’åºæ— åŠ¨ç”»åé¦ˆ

2. **æ¨¡æ€æ¡†åŠ¨ç”»**
   - âš ï¸ è®¾ç½®æ¨¡æ€æ¡†ã€å‘½ä»¤é¢æ¿ç¼ºå°‘æµç•…çš„è¿›å…¥/é€€å‡ºåŠ¨ç”»
   - âš ï¸ é®ç½©å±‚æ·¡å…¥æ•ˆæœä¸å¤Ÿæ˜æ˜¾

3. **é¡µé¢åˆ‡æ¢**
   - âŒ è§†å›¾åˆ‡æ¢ï¼ˆinbox/favorites/trash/calendarï¼‰æ— è¿‡æ¸¡
   - âŒ ç¬”è®°å†…å®¹åˆ‡æ¢æ— æ·¡å…¥æ·¡å‡º

4. **åŠ è½½çŠ¶æ€**
   - âŒ ç¼ºå°‘éª¨æ¶å±
   - âŒ æ•°æ®åŠ è½½æ— è¿‡æ¸¡çŠ¶æ€

5. **å¾®äº¤äº’**
   - âš ï¸ è¾“å…¥æ¡†èšç„¦æ•ˆæœè¾ƒå¼±
   - âš ï¸ æ ‡ç­¾æ·»åŠ /åˆ é™¤æ— åŠ¨ç”»
   - âŒ Toast é€šçŸ¥ç¼ºå°‘åŠ¨ç”»

---

## ğŸ”§ åŠ¨ç”»åº“é€‰æ‹©æ–¹æ¡ˆ

### æ–¹æ¡ˆå¯¹æ¯”

| æ–¹æ¡ˆ | ä¼˜ç‚¹ | ç¼ºç‚¹ | æ¨èåº¦ |
|------|------|------|--------|
| **Framer Motion** | åŠŸèƒ½å¼ºå¤§ã€ç”Ÿæ€å®Œå–„ã€æ–‡æ¡£è¯¦ç»† | åŒ…ä½“ç§¯è¾ƒå¤§ï¼ˆ~60KBï¼‰ | â­â­â­â­â­ |
| **React Spring** | åŸºäºç‰©ç†çš„åŠ¨ç”»ã€æ€§èƒ½å¥½ | å­¦ä¹ æ›²çº¿é™¡å³­ | â­â­â­â­ |
| **Reactbits** | è½»é‡çº§ã€ç°ä»£åŒ–ç»„ä»¶ | ç”Ÿæ€è¾ƒå°ã€æ–‡æ¡£è¾ƒå°‘ | â­â­â­ |
| **åŸç”Ÿ CSS + Tailwind** | é›¶ä¾èµ–ã€æ€§èƒ½æœ€ä¼˜ | å¤æ‚åŠ¨ç”»éš¾å®ç° | â­â­â­â­ |
| **æ··åˆæ–¹æ¡ˆ** | çµæ´»ã€æŒ‰éœ€é€‰æ‹© | éœ€è¦ç»´æŠ¤å¤šå¥—æ–¹æ¡ˆ | â­â­â­â­â­ |

### ğŸ¯ æ¨èæ–¹æ¡ˆï¼š**Framer Motion + åŸç”Ÿ CSS æ··åˆ**

**ç†ç”±ï¼š**
1. **Framer Motion** é€‚åˆå¤æ‚äº¤äº’ï¼ˆåˆ—è¡¨åŠ¨ç”»ã€é¡µé¢åˆ‡æ¢ã€æ‰‹åŠ¿ï¼‰
2. **åŸç”Ÿ CSS** é€‚åˆç®€å•è¿‡æ¸¡ï¼ˆé¢œè‰²ã€é€æ˜åº¦ã€ç®€å•å˜æ¢ï¼‰
3. é¡¹ç›®å·²ä½¿ç”¨ Tailwind CSSï¼Œå¯å……åˆ†åˆ©ç”¨å…¶åŠ¨ç”»å·¥å…·ç±»
4. æ¡Œé¢åº”ç”¨å¯¹åŒ…ä½“ç§¯ä¸æ•æ„Ÿï¼Œå¯ä»¥ä½¿ç”¨åŠŸèƒ½æ›´å¼ºçš„åº“

**å…³äº Reactbitsï¼š**
- Reactbits æ˜¯ä¸€ä¸ªè¾ƒæ–°çš„åº“ï¼Œæä¾›ç°ä»£åŒ–çš„ React ç»„ä»¶
- é€‚åˆå¿«é€ŸåŸå‹å¼€å‘ï¼Œä½†ç”Ÿæ€å’Œæ–‡æ¡£ä¸å¦‚ Framer Motion æˆç†Ÿ
- å¯ä»¥å‚è€ƒå…¶è®¾è®¡ç†å¿µï¼Œä½†ä¸å»ºè®®ä½œä¸ºä¸»è¦åŠ¨ç”»æ–¹æ¡ˆ

---

## ğŸ¨ è¯¦ç»†åŠ¨ç”»è®¾è®¡æ–¹æ¡ˆ

### 1. åˆ—è¡¨é¡¹åŠ¨ç”»ï¼ˆç¬”è®°å¡ç‰‡ï¼‰

#### ä½¿ç”¨ Framer Motion å®ç°

```tsx
// src/components/common/NoteCard.tsx
import { motion } from 'framer-motion'

export function NoteCard({ note, active, onClick, ... }: NoteCardProps) {
  return (
    <motion.div
      layout // è‡ªåŠ¨å¤„ç†å¸ƒå±€å˜åŒ–
      initial={{ opacity: 0, y: 20 }}
      animate={{ opacity: 1, y: 0 }}
      exit={{ opacity: 0, x: -20 }}
      transition={{ duration: 0.2, ease: 'easeOut' }}
      whileHover={{ scale: 1.01 }}
      whileTap={{ scale: 0.99 }}
      className={`note-list-item ...`}
      onClick={onClick}
    >
      {/* å†…å®¹ */}
    </motion.div>
  )
}
```

#### åˆ—è¡¨å®¹å™¨é…ç½®

```tsx
// src/components/layout/NoteList.tsx
import { motion, AnimatePresence } from 'framer-motion'

export function NoteList({ notes, ... }: NoteListProps) {
  return (
    <div className="flex-1 overflow-y-auto">
      <AnimatePresence mode="popLayout">
        {notes.map((note) => (
          <NoteCard key={note.id} note={note} ... />
        ))}
      </AnimatePresence>
    </div>
  )
}
```

**æ•ˆæœï¼š**
- âœ¨ ç¬”è®°å¡ç‰‡æ·¡å…¥ + ä¸Šæ»‘è¿›å…¥
- âœ¨ åˆ é™¤æ—¶æ·¡å‡º + å·¦æ»‘é€€å‡º
- âœ¨ æ‚¬åœæ—¶è½»å¾®æ”¾å¤§
- âœ¨ ç‚¹å‡»æ—¶è½»å¾®ç¼©å°
- âœ¨ å¸ƒå±€å˜åŒ–è‡ªåŠ¨è¿‡æ¸¡

---

### 2. æ¨¡æ€æ¡†åŠ¨ç”»

#### è®¾ç½®æ¨¡æ€æ¡†ä¼˜åŒ–

```tsx
// src/components/modals/SettingsModal.tsx
import { motion, AnimatePresence } from 'framer-motion'

export function SettingsModal({ open, onClose }: SettingsModalProps) {
  return (
    <AnimatePresence>
      {open && (
        <div className="fixed inset-0 z-50 flex items-center justify-center">
          {/* é®ç½©å±‚åŠ¨ç”» */}
          <motion.div
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            exit={{ opacity: 0 }}
            transition={{ duration: 0.2 }}
            className="fixed inset-0 bg-black/50 backdrop-blur-sm"
            onClick={onClose}
          />

          {/* æ¨¡æ€æ¡†åŠ¨ç”» */}
          <motion.div
            initial={{ opacity: 0, scale: 0.95, y: 20 }}
            animate={{ opacity: 1, scale: 1, y: 0 }}
            exit={{ opacity: 0, scale: 0.95, y: 20 }}
            transition={{ duration: 0.2, ease: 'easeOut' }}
            className="relative z-10 w-full max-w-md ..."
          >
            {/* å†…å®¹ */}
          </motion.div>
        </div>
      )}
    </AnimatePresence>
  )
}
```

**æ•ˆæœï¼š**
- âœ¨ é®ç½©å±‚æ·¡å…¥
- âœ¨ æ¨¡æ€æ¡†ä»ä¸‹æ–¹æ·¡å…¥ + ç¼©æ”¾
- âœ¨ é€€å‡ºæ—¶åå‘åŠ¨ç”»

---

### 3. å‘½ä»¤é¢æ¿åŠ¨ç”»

```tsx
// src/components/modals/CommandMenu.tsx
import { motion, AnimatePresence } from 'framer-motion'

export function CommandMenu({ open, ... }: CommandMenuProps) {
  return (
    <AnimatePresence>
      {open && (
        <div className="fixed inset-0 z-50">
          {/* é®ç½©å±‚ */}
          <motion.div
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            exit={{ opacity: 0 }}
            className="fixed inset-0 bg-black/40 backdrop-blur-sm"
            onClick={() => setOpen(false)}
          />

          {/* å‘½ä»¤é¢æ¿ */}
          <motion.div
            initial={{ opacity: 0, y: -20 }}
            animate={{ opacity: 1, y: 0 }}
            exit={{ opacity: 0, y: -20 }}
            transition={{ duration: 0.15, ease: 'easeOut' }}
            className="fixed left-1/2 top-[20%] -translate-x-1/2 ..."
          >
            <Command>
              {/* å†…å®¹ */}
            </Command>
          </motion.div>
        </div>
      )}
    </AnimatePresence>
  )
}
```

**æ•ˆæœï¼š**
- âœ¨ ä»ä¸Šæ–¹æ»‘å…¥
- âœ¨ å¿«é€Ÿå“åº”ï¼ˆ150msï¼‰

---

### 4. é¡µé¢/è§†å›¾åˆ‡æ¢åŠ¨ç”»

```tsx
// src/App.tsx
import { motion, AnimatePresence } from 'framer-motion'

function App() {
  return (
    <div className="h-screen w-screen flex overflow-hidden ...">
      <Sidebar ... />

      <AnimatePresence mode="wait">
        {currentView === 'calendar' ? (
          <motion.div
            key="calendar"
            initial={{ opacity: 0, x: 20 }}
            animate={{ opacity: 1, x: 0 }}
            exit={{ opacity: 0, x: -20 }}
            transition={{ duration: 0.2 }}
            className="flex-1 h-full overflow-hidden"
          >
            <CalendarView ... />
          </motion.div>
        ) : (
          <motion.div
            key="notes"
            initial={{ opacity: 0, x: 20 }}
            animate={{ opacity: 1, x: 0 }}
            exit={{ opacity: 0, x: -20 }}
            transition={{ duration: 0.2 }}
            className="flex-1 flex h-full overflow-hidden"
          >
            <NoteList ... />
            <MainContent ... />
          </motion.div>
        )}
      </AnimatePresence>
    </div>
  )
}
```

**æ•ˆæœï¼š**
- âœ¨ è§†å›¾åˆ‡æ¢æ—¶æ·¡å…¥æ·¡å‡º + æ°´å¹³æ»‘åŠ¨
- âœ¨ ç­‰å¾…å‰ä¸€ä¸ªè§†å›¾é€€å‡ºåå†è¿›å…¥æ–°è§†å›¾

---

### 5. ç¬”è®°å†…å®¹åˆ‡æ¢åŠ¨ç”»

```tsx
// src/components/layout/MainContent.tsx
import { motion, AnimatePresence } from 'framer-motion'

export function MainContent({ activeNoteId, ... }: MainContentProps) {
  return (
    <div className="flex-1 flex flex-col ...">
      <AnimatePresence mode="wait">
        {activeNote ? (
          <motion.div
            key={activeNoteId}
            initial={{ opacity: 0, y: 10 }}
            animate={{ opacity: 1, y: 0 }}
            exit={{ opacity: 0, y: -10 }}
            transition={{ duration: 0.15 }}
            className="flex-1 flex flex-col"
          >
            <EditorHeader ... />
            <Editor ... />
          </motion.div>
        ) : (
          <motion.div
            key="empty"
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            exit={{ opacity: 0 }}
          >
            <EmptyState ... />
          </motion.div>
        )}
      </AnimatePresence>
    </div>
  )
}
```

**æ•ˆæœï¼š**
- âœ¨ åˆ‡æ¢ç¬”è®°æ—¶å†…å®¹æ·¡å…¥æ·¡å‡º
- âœ¨ è½»å¾®çš„å‚ç›´ä½ç§»å¢å¼ºå±‚æ¬¡æ„Ÿ

---

### 6. æ ‡ç­¾è¾“å…¥åŠ¨ç”»

```tsx
// src/components/common/TagsInput.tsx
import { motion, AnimatePresence } from 'framer-motion'

export function TagsInput({ tags, ... }: TagsInputProps) {
  return (
    <div className="flex flex-wrap gap-1.5">
      <AnimatePresence>
        {tags.map((tag) => (
          <motion.span
            key={tag}
            initial={{ opacity: 0, scale: 0.8 }}
            animate={{ opacity: 1, scale: 1 }}
            exit={{ opacity: 0, scale: 0.8 }}
            transition={{ duration: 0.15 }}
            className="px-2 py-1 bg-gray-100 ..."
          >
            {tag}
            <button onClick={() => onRemove(tag)}>Ã—</button>
          </motion.span>
        ))}
      </AnimatePresence>
    </div>
  )
}
```

**æ•ˆæœï¼š**
- âœ¨ æ ‡ç­¾æ·»åŠ æ—¶ç¼©æ”¾æ·¡å…¥
- âœ¨ æ ‡ç­¾åˆ é™¤æ—¶ç¼©æ”¾æ·¡å‡º

---

### 7. éª¨æ¶å±åŠ è½½åŠ¨ç”»

#### åˆ›å»ºéª¨æ¶å±ç»„ä»¶

```tsx
// src/components/common/Skeleton.tsx
import { motion } from 'framer-motion'

export function Skeleton({ className = '' }: { className?: string }) {
  return (
    <motion.div
      className={`bg-gray-200 dark:bg-gray-700 rounded ${className}`}
      animate={{
        opacity: [0.5, 1, 0.5],
      }}
      transition={{
        duration: 1.5,
        repeat: Infinity,
        ease: 'easeInOut',
      }}
    />
  )
}

export function NoteCardSkeleton() {
  return (
    <div className="px-3 py-3 border-b border-black/[0.03]">
      <Skeleton className="h-4 w-3/4 mb-2" />
      <Skeleton className="h-3 w-full mb-1" />
      <Skeleton className="h-3 w-2/3" />
    </div>
  )
}
```

#### ä½¿ç”¨éª¨æ¶å±

```tsx
// src/components/layout/NoteList.tsx
export function NoteList({ notes, isLoading, ... }: NoteListProps) {
  return (
    <div className="flex-1 overflow-y-auto">
      {isLoading ? (
        <>
          <NoteCardSkeleton />
          <NoteCardSkeleton />
          <NoteCardSkeleton />
        </>
      ) : (
        <AnimatePresence mode="popLayout">
          {notes.map((note) => (
            <NoteCard key={note.id} note={note} ... />
          ))}
        </AnimatePresence>
      )}
    </div>
  )
}
```

**æ•ˆæœï¼š**
- âœ¨ åŠ è½½æ—¶æ˜¾ç¤ºè„‰åŠ¨çš„éª¨æ¶å±
- âœ¨ æ•°æ®åŠ è½½å®Œæˆåå¹³æ»‘è¿‡æ¸¡åˆ°å®é™…å†…å®¹

---

### 8. Toast é€šçŸ¥åŠ¨ç”»

#### åˆ›å»º Toast ç»„ä»¶

```tsx
// src/components/common/Toast.tsx
import { motion, AnimatePresence } from 'framer-motion'
import { CheckCircle, AlertCircle, X } from 'lucide-react'

interface ToastProps {
  message: string
  type: 'success' | 'error' | 'info'
  onClose: () => void
}

export function Toast({ message, type, onClose }: ToastProps) {
  return (
    <motion.div
      initial={{ opacity: 0, y: -50, scale: 0.9 }}
      animate={{ opacity: 1, y: 0, scale: 1 }}
      exit={{ opacity: 0, y: -20, scale: 0.95 }}
      transition={{ duration: 0.2, ease: 'easeOut' }}
      className={`
        fixed top-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg
        flex items-center gap-3 min-w-[300px] max-w-md
        ${type === 'success' ? 'bg-green-500 text-white' : ''}
        ${type === 'error' ? 'bg-red-500 text-white' : ''}
        ${type === 'info' ? 'bg-blue-500 text-white' : ''}
      `}
    >
      {type === 'success' && <CheckCircle className="h-5 w-5" />}
      {type === 'error' && <AlertCircle className="h-5 w-5" />}
      <span className="flex-1 text-sm">{message}</span>
      <button onClick={onClose} className="p-1 hover:bg-white/20 rounded">
        <X className="h-4 w-4" />
      </button>
    </motion.div>
  )
}

// Toast å®¹å™¨
export function ToastContainer({ toasts }: { toasts: Toast[] }) {
  return (
    <AnimatePresence>
      {toasts.map((toast) => (
        <Toast key={toast.id} {...toast} />
      ))}
    </AnimatePresence>
  )
}
```

**æ•ˆæœï¼š**
- âœ¨ ä»é¡¶éƒ¨æ»‘å…¥ + ç¼©æ”¾
- âœ¨ è‡ªåŠ¨æ¶ˆå¤±æˆ–æ‰‹åŠ¨å…³é—­
- âœ¨ å¤šä¸ª Toast å †å æ˜¾ç¤º

---

### 9. å¾®äº¤äº’ä¼˜åŒ–

#### è¾“å…¥æ¡†èšç„¦åŠ¨ç”»ï¼ˆCSSï¼‰

```css
/* src/index.css */

/* è¾“å…¥æ¡†èšç„¦æ•ˆæœ */
.input-focus {
  @apply transition-all duration-200;
}

.input-focus:focus {
  @apply ring-2 ring-[#5E6AD2] ring-offset-2;
  transform: scale(1.01);
}

/* æŒ‰é’®æ‚¬åœæ•ˆæœ */
.btn-hover {
  @apply transition-all duration-200;
}

.btn-hover:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(94, 106, 210, 0.2);
}

.btn-hover:active {
  transform: translateY(0);
}
```

#### æ”¶è—æŒ‰é’®åŠ¨ç”»

```tsx
// src/components/editor/EditorHeader.tsx
import { motion } from 'framer-motion'

<motion.button
  whileHover={{ scale: 1.1 }}
  whileTap={{ scale: 0.9 }}
  onClick={() => onToggleFavorite(activeNoteId)}
>
  <Star className={activeNote.isFavorite ? 'fill-[#5E6AD2]' : ''} />
</motion.button>
```

**æ•ˆæœï¼š**
- âœ¨ æ‚¬åœæ—¶æ”¾å¤§
- âœ¨ ç‚¹å‡»æ—¶ç¼©å°
- âœ¨ æ”¶è—çŠ¶æ€åˆ‡æ¢æ—¶å›¾æ ‡å¡«å……åŠ¨ç”»

---

### 10. AI èŠå¤©ä¾§æ ä¼˜åŒ–

#### æ¶ˆæ¯åˆ—è¡¨åŠ¨ç”»

```tsx
// src/components/ai/AIChatSidebar.tsx
import { motion, AnimatePresence } from 'framer-motion'

<div className="space-y-1">
  <AnimatePresence initial={false}>
    {displayMessages.map((msg, index) => (
      <motion.div
        key={msg.id || `temp-${index}`}
        initial={{ opacity: 0, y: 10 }}
        animate={{ opacity: 1, y: 0 }}
        exit={{ opacity: 0, x: -20 }}
        transition={{ duration: 0.2 }}
      >
        <ChatMessageItem message={msg} ... />
      </motion.div>
    ))}
  </AnimatePresence>
</div>
```

**æ•ˆæœï¼š**
- âœ¨ æ–°æ¶ˆæ¯ä»ä¸‹æ–¹æ·¡å…¥
- âœ¨ åˆ é™¤æ¶ˆæ¯æ—¶å‘å·¦æ»‘å‡º

---

## ğŸ“Š åŠ¨ç”»æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### 1. ä½¿ç”¨ CSS Transform å’Œ Opacity

```tsx
// âœ… å¥½çš„åšæ³• - ä½¿ç”¨ transform å’Œ opacity
<motion.div
  animate={{ opacity: 1, x: 0 }}
  transition={{ duration: 0.2 }}
/>

// âŒ é¿å… - ä½¿ç”¨ widthã€heightã€margin ç­‰ä¼šè§¦å‘é‡æ’çš„å±æ€§
<motion.div
  animate={{ width: 200, marginLeft: 20 }}
/>
```

### 2. å‡å°‘åŠ¨ç”»æŒç»­æ—¶é—´

```tsx
// æ¡Œé¢åº”ç”¨å»ºè®®ä½¿ç”¨è¾ƒçŸ­çš„åŠ¨ç”»æ—¶é—´
const transitions = {
  fast: 0.1,      // 100ms - å¾®äº¤äº’
  normal: 0.2,    // 200ms - æ ‡å‡†è¿‡æ¸¡
  slow: 0.3,      // 300ms - å¤æ‚åŠ¨ç”»
}
```

### 3. ä½¿ç”¨ `will-change` æç¤ºæµè§ˆå™¨

```css
.animated-element {
  will-change: transform, opacity;
}
```

### 4. æ‡’åŠ è½½åŠ¨ç”»ç»„ä»¶

```tsx
// ä»…åœ¨éœ€è¦æ—¶åŠ è½½ Framer Motion
import { lazy, Suspense } from 'react'

const AnimatedModal = lazy(() => import('./AnimatedModal'))

<Suspense fallback={<div>Loading...</div>}>
  <AnimatedModal />
</Suspense>
```

### 5. ä½¿ç”¨ `AnimatePresence` çš„ `mode` å±æ€§

```tsx
// ç­‰å¾…é€€å‡ºåŠ¨ç”»å®Œæˆåå†è¿›å…¥
<AnimatePresence mode="wait">
  {/* å†…å®¹ */}
</AnimatePresence>

// å…è®¸åŒæ—¶è¿›å…¥å’Œé€€å‡ºï¼ˆåˆ—è¡¨é¡¹ï¼‰
<AnimatePresence mode="popLayout">
  {/* å†…å®¹ */}
</AnimatePresence>
```

### 6. ç¦ç”¨ä¸å¿…è¦çš„åŠ¨ç”»

```tsx
// æ ¹æ®ç”¨æˆ·åå¥½ç¦ç”¨åŠ¨ç”»
const prefersReducedMotion = window.matchMedia(
  '(prefers-reduced-motion: reduce)'
).matches

<motion.div
  animate={prefersReducedMotion ? {} : { opacity: 1, y: 0 }}
/>
```

---

## ğŸ¬ åŠ¨ç”»æ—¶åºå›¾

```mermaid
graph LR
    A[ç”¨æˆ·æ“ä½œ] --> B{æ“ä½œç±»å‹}
    
    B -->|ç‚¹å‡»ç¬”è®°| C[ç¬”è®°å¡ç‰‡ç¼©æ”¾]
    C --> D[å†…å®¹æ·¡å…¥]
    
    B -->|æ‰“å¼€æ¨¡æ€æ¡†| E[é®ç½©æ·¡å…¥]
    E --> F[æ¨¡æ€æ¡†ç¼©æ”¾+æ·¡å…¥]
    
    B -->|åˆ‡æ¢è§†å›¾| G[å½“å‰è§†å›¾æ·¡å‡º]
    G --> H[æ–°è§†å›¾æ·¡å…¥]
    
    B -->|æ·»åŠ æ ‡ç­¾| I[æ ‡ç­¾ç¼©æ”¾æ·¡å…¥]
    
    B -->|å‘é€æ¶ˆæ¯| J[æ¶ˆæ¯ä¸Šæ»‘æ·¡å…¥]
    J --> K[AIæ€è€ƒåŠ¨ç”»]
    K --> L[å›å¤æ·¡å…¥]
```

---

## ğŸ“¦ å®æ–½æ­¥éª¤

### é˜¶æ®µä¸€ï¼šåŸºç¡€è®¾æ–½ï¼ˆ1-2å¤©ï¼‰

- [ ] å®‰è£… Framer Motion
  ```bash
  pnpm add framer-motion
  ```

- [ ] åˆ›å»ºåŠ¨ç”»é…ç½®æ–‡ä»¶
  ```tsx
  // src/lib/animations.ts
  export const transitions = {
    fast: { duration: 0.1, ease: 'easeOut' },
    normal: { duration: 0.2, ease: 'easeOut' },
    slow: { duration: 0.3, ease: 'easeOut' },
  }

  export const variants = {
    fadeIn: {
      initial: { opacity: 0 },
      animate: { opacity: 1 },
      exit: { opacity: 0 },
    },
    slideUp: {
      initial: { opacity: 0, y: 20 },
      animate: { opacity: 1, y: 0 },
      exit: { opacity: 0, y: -20 },
    },
    // ... æ›´å¤šé¢„è®¾
  }
  ```

- [ ] åˆ›å»ºé€šç”¨åŠ¨ç”»ç»„ä»¶
  ```tsx
  // src/components/common/AnimatedDiv.tsx
  // src/components/common/Skeleton.tsx
  // src/components/common/Toast.tsx
  ```

### é˜¶æ®µäºŒï¼šæ ¸å¿ƒç»„ä»¶åŠ¨ç”»ï¼ˆ2-3å¤©ï¼‰

- [ ] ä¼˜åŒ–ç¬”è®°å¡ç‰‡åŠ¨ç”»ï¼ˆNoteCardï¼‰
- [ ] ä¼˜åŒ–æ¨¡æ€æ¡†åŠ¨ç”»ï¼ˆSettingsModalã€CommandMenuï¼‰
- [ ] æ·»åŠ é¡µé¢åˆ‡æ¢åŠ¨ç”»ï¼ˆApp.tsxï¼‰
- [ ] ä¼˜åŒ–ç¬”è®°å†…å®¹åˆ‡æ¢ï¼ˆMainContentï¼‰

### é˜¶æ®µä¸‰ï¼šäº¤äº’ç»†èŠ‚ï¼ˆ1-2å¤©ï¼‰

- [ ] æ ‡ç­¾è¾“å…¥åŠ¨ç”»ï¼ˆTagsInputï¼‰
- [ ] æŒ‰é’®å¾®äº¤äº’ï¼ˆæ‰€æœ‰æŒ‰é’®ç»„ä»¶ï¼‰
- [ ] è¾“å…¥æ¡†èšç„¦æ•ˆæœ
- [ ] Toast é€šçŸ¥ç³»ç»Ÿ

### é˜¶æ®µå››ï¼šåŠ è½½çŠ¶æ€ï¼ˆ1å¤©ï¼‰

- [ ] åˆ›å»ºéª¨æ¶å±ç»„ä»¶
- [ ] é›†æˆåˆ°ç¬”è®°åˆ—è¡¨
- [ ] é›†æˆåˆ°æ—¥å†è§†å›¾

### é˜¶æ®µäº”ï¼šä¼˜åŒ–ä¸æµ‹è¯•ï¼ˆ1-2å¤©ï¼‰

- [ ] æ€§èƒ½æµ‹è¯•ä¸ä¼˜åŒ–
- [ ] æ— éšœç¢æ€§æµ‹è¯•
- [ ] å“åº”å¼åŠ¨ç”»è°ƒæ•´
- [ ] ç”¨æˆ·åå¥½æ”¯æŒï¼ˆå‡å°‘åŠ¨ç”»ï¼‰

---

## ğŸ¨ è®¾è®¡åŸåˆ™

### 1. ä¸€è‡´æ€§
- æ‰€æœ‰ç›¸ä¼¼æ“ä½œä½¿ç”¨ç›¸åŒçš„åŠ¨ç”»æ¨¡å¼
- ç»Ÿä¸€çš„åŠ¨ç”»æ—¶é•¿å’Œç¼“åŠ¨å‡½æ•°

### 2. æ€§èƒ½ä¼˜å…ˆ
- ä¼˜å…ˆä½¿ç”¨ `transform` å’Œ `opacity`
- é¿å…åœ¨åŠ¨ç”»ä¸­ä½¿ç”¨ä¼šè§¦å‘é‡æ’çš„å±æ€§
- å¤§åˆ—è¡¨ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨

### 3. æœ‰æ„ä¹‰çš„åŠ¨ç”»
- åŠ¨ç”»åº”è¯¥ä¼ è¾¾ä¿¡æ¯ï¼Œè€Œä¸ä»…ä»…æ˜¯è£…é¥°
- å¼•å¯¼ç”¨æˆ·æ³¨æ„åŠ›åˆ°é‡è¦å…ƒç´ 

### 4. å¿«é€Ÿå“åº”
- æ¡Œé¢åº”ç”¨åŠ¨ç”»åº”è¯¥å¿«é€Ÿï¼ˆ100-300msï¼‰
- é¿å…è¿‡é•¿çš„åŠ¨ç”»å»¶è¿Ÿç”¨æˆ·æ“ä½œ

### 5. å¯è®¿é—®æ€§
- å°Šé‡ç”¨æˆ·çš„ `prefers-reduced-motion` è®¾ç½®
- æä¾›ç¦ç”¨åŠ¨ç”»çš„é€‰é¡¹

---

## ğŸ“ˆ é¢„æœŸæ•ˆæœ

### ç”¨æˆ·ä½“éªŒæå‡
- âœ¨ ç•Œé¢æ›´æµç•…ï¼Œæ“ä½œåé¦ˆæ›´æ˜ç¡®
- âœ¨ è§†è§‰å±‚æ¬¡æ›´æ¸…æ™°ï¼Œå¼•å¯¼ç”¨æˆ·æ³¨æ„åŠ›
- âœ¨ å‡å°‘çªå…€æ„Ÿï¼Œæå‡ä¸“ä¸šæ„Ÿ

### æ€§èƒ½å½±å“
- ğŸ“Š åŒ…ä½“ç§¯å¢åŠ ï¼š~60KBï¼ˆFramer Motion gzippedï¼‰
- ğŸ“Š è¿è¡Œæ—¶æ€§èƒ½ï¼šä½¿ç”¨ GPU åŠ é€Ÿï¼Œå½±å“æå°
- ğŸ“Š å†…å­˜å ç”¨ï¼šå¯å¿½ç•¥ä¸è®¡

### å¼€å‘æ•ˆç‡
- ğŸš€ ä½¿ç”¨ Framer Motion å‡å°‘æ‰‹å†™åŠ¨ç”»ä»£ç 
- ğŸš€ ç»Ÿä¸€çš„åŠ¨ç”»é…ç½®ä¾¿äºç»´æŠ¤
- ğŸš€ ä¸°å¯Œçš„é¢„è®¾åŠ é€Ÿå¼€å‘

---

## ğŸ”— å‚è€ƒèµ„æº

### Framer Motion
- [å®˜æ–¹æ–‡æ¡£](https://www.framer.com/motion/)
- [åŠ¨ç”»ç¤ºä¾‹](https://www.framer.com/motion/examples/)
- [æ€§èƒ½ä¼˜åŒ–æŒ‡å—](https://www.framer.com/motion/guide-reduce-bundle-size/)

### è®¾è®¡çµæ„Ÿ
- [Linear](https://linear.app/) - æµç•…çš„åˆ—è¡¨åŠ¨ç”»
- [Notion](https://notion.so/) - ä¼˜é›…çš„é¡µé¢åˆ‡æ¢
- [Raycast](https://raycast.com/) - å¿«é€Ÿçš„å‘½ä»¤é¢æ¿

### CSS åŠ¨ç”»
- [Tailwind CSS åŠ¨ç”»](https://tailwindcss.com/docs/animation)
- [CSS Triggers](https://csstriggers.com/) - äº†è§£å“ªäº›å±æ€§è§¦å‘é‡æ’

---

## â“ å¸¸è§é—®é¢˜

### Q: Framer Motion ä¼šå½±å“æ€§èƒ½å—ï¼Ÿ
A: ä¸ä¼šã€‚Framer Motion ä½¿ç”¨ GPU åŠ é€Ÿçš„ CSS transform å’Œ opacityï¼Œæ€§èƒ½å½±å“æå°ã€‚

### Q: æ˜¯å¦éœ€è¦å®Œå…¨æ›¿æ¢ç°æœ‰çš„ CSS åŠ¨ç”»ï¼Ÿ
A: ä¸éœ€è¦ã€‚å»ºè®®ä¿ç•™ç®€å•çš„ CSS è¿‡æ¸¡ï¼Œä»…åœ¨å¤æ‚åœºæ™¯ä½¿ç”¨ Framer Motionã€‚

### Q: å¦‚ä½•å¤„ç†å¤§åˆ—è¡¨çš„åŠ¨ç”»æ€§èƒ½ï¼Ÿ
A: ä½¿ç”¨ `AnimatePresence` çš„ `mode="popLayout"`ï¼Œå¹¶è€ƒè™‘è™šæ‹Ÿæ»šåŠ¨ã€‚

### Q: åŠ¨ç”»ä¼šå¢åŠ å¤šå°‘åŒ…ä½“ç§¯ï¼Ÿ
A: Framer Motion gzipped åçº¦ 60KBï¼Œå¯¹æ¡Œé¢åº”ç”¨å½±å“å¾ˆå°ã€‚

---

## ğŸ“ æ€»ç»“

æœ¬æ–¹æ¡ˆé€šè¿‡å¼•å…¥ **Framer Motion** å’Œä¼˜åŒ–ç°æœ‰ CSS åŠ¨ç”»ï¼Œä¸º JD Notes æä¾›äº†ä¸€å¥—å®Œæ•´çš„åŠ¨ç”»ç³»ç»Ÿã€‚é‡ç‚¹ä¼˜åŒ–äº†ï¼š

1. âœ… åˆ—è¡¨é¡¹è¿›å…¥/é€€å‡ºåŠ¨ç”»
2. âœ… æ¨¡æ€æ¡†å’Œé¡µé¢åˆ‡æ¢åŠ¨ç”»
3. âœ… å¾®äº¤äº’å’ŒåŠ è½½çŠ¶æ€
4. âœ… æ€§èƒ½ä¼˜åŒ–å’Œå¯è®¿é—®æ€§

å®æ–½åï¼Œåº”ç”¨å°†æ‹¥æœ‰æ›´æµç•…ã€æ›´ä¸“ä¸šçš„ç”¨æˆ·ä½“éªŒï¼ŒåŒæ—¶ä¿æŒè‰¯å¥½çš„æ€§èƒ½è¡¨ç°ã€‚

---

**ä¸‹ä¸€æ­¥ï¼š** æ˜¯å¦å¼€å§‹å®æ–½æ­¤æ–¹æ¡ˆï¼Ÿæˆ‘å¯ä»¥å¸®ä½ ï¼š
1. å®‰è£…ä¾èµ–å¹¶é…ç½® Framer Motion
2. é€æ­¥å®ç°å„ä¸ªç»„ä»¶çš„åŠ¨ç”»
3. è¿›è¡Œæ€§èƒ½æµ‹è¯•å’Œä¼˜åŒ–
